<script>
let messages = [
  "Hi my beautiful wife Hetal ðŸ’–",
  "I made this only for you",
  "You are my safest place ðŸ¥¹",
  "My favourite person forever",
  "I love you more than words â¤ï¸",
  "Happy to have you in my life Notankibaaz ðŸŒ¸",
  "Always yours, Hetal â¤ï¸ â€” Rahul"
];

let index = 0;
const textEl = document.getElementById("text");
let started = false;

function typeText(text, callback){
  let i = 0;
  textEl.textContent = "";
  let interval = setInterval(()=>{
    textEl.textContent += text.charAt(i);
    i++;
    if(i >= text.length){
      clearInterval(interval);
      if(callback) callback();
    }
  }, 60);
}

function playNext(){
  if(index < messages.length){
    typeText(messages[index], ()=>{
      index++;
      setTimeout(playNext, 1200);
    });
  }else{
    document.getElementById("final").style.display = "flex";
  }
}

setInterval(()=>{
  let heart = document.createElement("div");
  heart.className = "heart";
  heart.textContent = "â¤ï¸";
  heart.style.left = Math.random()*100 + "vw";
  heart.style.fontSize = (14 + Math.random()*10) + "px";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(), 8000);
}, 700);

function startSurprise(){
  if(started) return;
  started = true;

  playNext();

  const music = document.getElementById("bgm");
  music.volume = 0.5;
  music.play().catch(()=>{});
}

// iPhone needs a tap
document.body.addEventListener("click", startSurprise);
</script>
